<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>view tabs</title>
</head>

<body>
    <h1>view tabs</h1>
    <style>
        .view-tabs [data-content-selector] {
            border: 1px solid black;
            display: inline;
        }

        .tab-content {
            display: none;
        }

        .tab-active {
            background-color: red;
        }
    </style>
    <script>
        function showTab(targetTab) {

            // initial const: "tabs" is parent node of target tab
            let tabsFind = targetTab.parentNode
            if (!tabsFind.dataset.activeContentSelector) tabsFind = tabsFind.parentNode
            const tabs = tabsFind

            // initial const: selector of current tab to show
            const targetContentSelector = targetTab.dataset.contentSelector

            // initial const: node of current tab to show
            const currentTabContent = tabs.querySelector(targetContentSelector)

            // pre-condition (it must be hidden)
            if (currentTabContent.style.display == "") { // if is hidden

                // before: previous selector
                const previousTabSelector = tabs.dataset.activeContentSelector

                // previous: hide previous content
                const previousTabContent = tabs.querySelector(previousTabSelector)
                previousTabContent.style.display = "" // set hidden

                // previous: remove class .tab-active
                getTab(tabs, previousTabSelector).classList.remove("tab-active")

                // current: show current content
                currentTabContent.style.display = "initial" // set shown

                // current: add class .tab-active
                getTab(tabs, targetContentSelector).classList.add("tab-active")

                // after: track which one is active
                tabs.dataset.activeContentSelector = targetContentSelector // set active
            }
        }
        function getTab(tabs, selector) {
            return tabs.querySelector('[data-content-selector="' + selector + '"]')
        }
        function initialTabs() {
            for (const tabs of document.querySelectorAll(".view-tabs[data-active-content-selector]")) {
                const contentSelector = tabs.dataset.activeContentSelector
                showTab(getTab(tabs, contentSelector))
            }
        }
        document.addEventListener('DOMContentLoaded', initialTabs)
    </script>
    <div class="view-tabs" data-active-content-selector="#content1" onclick="showTab(event.target)">
        <div data-content-selector="#content1">tab 1</div>
        <div data-content-selector="#content2">tab 2</div>
        <div data-content-selector="#content3">tab 3</div>
        <br>
        <div id="content1" class="tab-content">content 1</div>
        <div id="content2" class="tab-content">content 2</div>
        <div id="content3" class="tab-content">content 3</div>
    </div>
    <hr>
    <div class="view-tabs" data-active-content-selector="#content2" onclick="showTab(event.target)">
        <div data-content-selector="#content1">tab 1</div>
        <div data-content-selector="#content2">tab 2</div>
        <br>
        <div id="content1" class="tab-content">content 1</div>
        <div id="content2" class="tab-content">content 2</div>
    </div>

    <script src="https://arkenidar.com/web/show-source.js" data-href="?show-source"></script>

</body>

</html>